# Code Quality Check Skill

当用户要求执行代码质量检查或当任何代码修改完成后，执行以下标准化流程。

## 触发时机
- 用户明确要求执行代码质量检查
- 任何代码修改完成后
- 提交代码前
- 用户运行相关命令时

## 检查流程

### 1. 代码格式化和自动修复
```bash
nr check:fix
```
- 使用 Biome 进行代码格式化和 linting
- 自动修复导入排序、格式问题
- 确保代码符合项目规范

### 2. TypeScript 类型检查
```bash
nr type:check
```
- 执行完整的 TypeScript 编译器检查
- 确保没有类型错误或未定义的方法/属性
- 验证导入和类型定义正确性

### 3. 自动化测试
```bash
nr test:silent
```
- 运行所有单元测试和集成测试
- 确保代码修改没有破坏现有功能
- 验证所有测试用例通过

### 4. 拼写检查
```bash
nr spell:check
```
- 使用 cspell 检查代码中的拼写错误
- 包括注释、变量名、文档内容
- 确保专业性和一致性

## 错误处理

### 如果类型检查失败
1. 分析 TypeScript 错误信息
2. 根据错误类型确定修复策略：
   - 方法未定义：添加缺失的方法声明
   - 导入路径错误：修正导入语句
   - 类型不兼容：调整类型定义或使用类型断言
3. 重新运行类型检查验证修复

### 如果测试失败
1. 检查测试失败的具体原因
2. 分析是否是代码修改导致的预期行为变化
3. 修复代码或更新测试用例
4. 确保所有测试通过

### 如果拼写检查失败
1. 检查拼写错误的单词
2. 确认是否是专业术语或专有名词
3. 修正拼写或添加到词汇表
4. 重新运行拼写检查

## 完成标准
所有检查必须通过：
- ✅ 代码格式化无错误
- ✅ TypeScript 类型检查通过
- ✅ 所有测试用例通过
- ✅ 拼写检查无问题

## 输出格式
```
✅ 代码质量检查完成
- 格式化: 通过
- 类型检查: 通过
- 测试: 通过 (252/252)
- 拼写检查: 通过
```