import { Callout, Tabs, Steps } from 'nextra/components'

# ä»‹ç»

BestMCP æ˜¯ä¸€ä¸ªä¸º TypeScript è®¾è®¡çš„ Model Context Protocol (MCP) æœåŠ¡å™¨æ¡†æ¶ï¼Œé€šè¿‡è£…é¥°å™¨å’Œ Zod éªŒè¯æä¾›ç±»å‹å®‰å…¨çš„å·¥å…·å£°æ˜æ–¹å¼ã€‚å®ƒç®€åŒ–äº† MCP æœåŠ¡å™¨çš„å¼€å‘æµç¨‹ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿä»¥å£°æ˜å¼çš„æ–¹å¼å®šä¹‰å·¥å…·å’Œå‚æ•°éªŒè¯ã€‚

<Callout type="info">
  BestMCP ç›®å‰åŸºäºå®˜æ–¹ <a href="https://github.com/modelcontextprotocol/typescript-sdk">@modelcontextprotocol/sdk</a> æ„å»ºï¼Œæœªæ¥ä¼šè€ƒè™‘å®Œå…¨åŸºäº MCP åè®®è§„èŒƒé‡æ–°å®ç°ã€‚
</Callout>

## æ ¸å¿ƒç‰¹æ€§

- ğŸ¯ **ç±»å‹å®‰å…¨**ï¼šç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥å’Œè¿è¡Œæ—¶éªŒè¯åŒé‡ä¿éšœï¼Œé¿å…å‚æ•°é”™è¯¯
- ğŸš€ **å¼€å‘ä½“éªŒ**ï¼šç®€æ´ç›´è§‚çš„è£…é¥°å™¨ APIï¼Œå¤§å¹…å‡å°‘æ ·æ¿ä»£ç 
- ğŸ¤– **è‡ªåŠ¨åŒ–**ï¼šè‡ªåŠ¨ç”Ÿæˆ MCP å·¥å…·æè¿°ã€JSON Schema å’Œé”™è¯¯å¤„ç†
- ğŸ”§ **æ‰©å±•æ€§**ï¼šæ”¯æŒå¤æ‚å‚æ•°ç±»å‹ã€å¼‚æ­¥æ“ä½œå’Œé«˜çº§åŠŸèƒ½é…ç½®
- ğŸŒ **å¤šä¼ è¾“å±‚**ï¼šæ”¯æŒ STDIO å’Œ HTTP ä¸¤ç§é€šä¿¡æ–¹å¼ï¼ŒæŒ‰éœ€åˆ‡æ¢
- ğŸ“¦ **é›¶é…ç½®**ï¼šå¼€ç®±å³ç”¨ï¼Œæ— éœ€å¤æ‚çš„é…ç½®æ–‡ä»¶

## å¿«é€Ÿé¢„è§ˆ

### ä¼ ç»Ÿ MCP å¼€å‘ vs BestMCP

<Tabs items={['ä¼ ç»Ÿæ–¹å¼', 'BestMCP']}>
  <Tabs.Tab>
    ```typescript
    // ä¼ ç»Ÿæ–¹å¼éœ€è¦æ‰‹åŠ¨å®šä¹‰å·¥å…·æè¿°
    const tools = [
      {
        name: 'calculate',
        description: 'æ‰§è¡Œæ•°å­¦è®¡ç®—',
        inputSchema: {
          type: 'object',
          properties: {
            a: { type: 'number', description: 'ç¬¬ä¸€ä¸ªæ•°å­—' },
            b: { type: 'number', description: 'ç¬¬äºŒä¸ªæ•°å­—' },
            operation: {
              type: 'string',
              enum: ['add', 'multiply'],
              description: 'è¿ç®—ç±»å‹'
            }
          },
          required: ['a', 'b', 'operation']
        }
      }
    ];

    // éœ€è¦æ‰‹åŠ¨å¤„ç†å·¥å…·è°ƒç”¨å’Œå‚æ•°éªŒè¯
    server.setRequestHandler('tools/call', async (request) => {
      const { name, arguments: args } = request.params;

      if (name === 'calculate') {
        // æ‰‹åŠ¨éªŒè¯å‚æ•°
        const { a, b, operation } = args;
        if (typeof a !== 'number' || typeof b !== 'number') {
          throw new Error('å‚æ•°ç±»å‹é”™è¯¯');
        }

        // æ‰‹åŠ¨å¤„ç†ä¸åŒè¿ç®—
        if (operation === 'add') {
          return { content: [{ type: 'text', text: String(a + b) }] };
        }
        // ... æ›´å¤šæ‰‹åŠ¨å¤„ç†ä»£ç 
      }
    });
    ```
  </Tabs.Tab>
  <Tabs.Tab>
    ```typescript
    import { BestMCP, Tool, Param } from 'bestmcp';
    import { z } from 'zod';

    class CalculatorService {
      @Tool("æ‰§è¡Œæ•°å­¦è®¡ç®—")
      calculate(
        @Param(z.number(), "ç¬¬ä¸€ä¸ªæ•°å­—") a: number,
        @Param(z.number(), "ç¬¬äºŒä¸ªæ•°å­—") b: number,
        @Param(z.enum(['add', 'multiply']), "è¿ç®—ç±»å‹") operation: 'add' | 'multiply'
      ): number {
        if (operation === 'add') return a + b;
        return a * b;
      }
    }

    const mcp = new BestMCP({
      name: "calculator-server",
      version: "1.0.0",
    });

    mcp.register(CalculatorService);
    await mcp.run();
    ```
  </Tabs.Tab>
</Tabs>

## æ¶æ„æ¦‚è§ˆ

```mermaid
graph TB
    A[ç”¨æˆ·ä»£ç ] --> B[BestMCP æ¡†æ¶]
    B --> C[è£…é¥°å™¨å¤„ç†å™¨]
    B --> D[éªŒè¯å¼•æ“]
    B --> E[ä¼ è¾“å±‚ç®¡ç†å™¨]
    E --> F[STDIO ä¼ è¾“å±‚]
    E --> G[HTTP ä¼ è¾“å±‚]
    C --> H[MCP åè®®]
    D --> H
    F --> H
    G --> H
```

## ä½¿ç”¨åœºæ™¯

### é€‚åˆçš„åº”ç”¨åœºæ™¯

- **å‘½ä»¤è¡Œå·¥å…·å¢å¼º**ï¼šä¸ºç°æœ‰ CLI å·¥å…·æ·»åŠ  AI èƒ½åŠ›
- **å¾®æœåŠ¡é›†æˆ**ï¼šåœ¨å¾®æœåŠ¡æ¶æ„ä¸­æä¾› AI å·¥å…·æ¥å£
- **å¼€å‘å·¥å…·æ‰©å±•**ï¼šIDE æ’ä»¶å’Œå¼€å‘è¾…åŠ©å·¥å…·
- **API ç½‘å…³å¢å¼º**ï¼šä¸ºç°æœ‰ API æ·»åŠ æ™ºèƒ½å¤„ç†èƒ½åŠ›
- **æ•°æ®å¤„ç†å·¥å…·**ï¼šå¤æ‚çš„æ•°æ®è½¬æ¢å’Œåˆ†ææœåŠ¡

### å…¸å‹åº”ç”¨æ¡ˆä¾‹

<Callout type="default" emoji="ğŸ’¡">
  **ç¤ºä¾‹åœºæ™¯**ï¼šä¸€ä¸ªä»£ç å®¡æŸ¥å·¥å…·å¯ä»¥ä½¿ç”¨ BestMCP æä¾› AI é©±åŠ¨çš„ä»£ç åˆ†æã€ä¼˜åŒ–å»ºè®®å’Œæ–‡æ¡£ç”ŸæˆåŠŸèƒ½ã€‚
</Callout>

## ç›¸å…³èµ„æº

- [MCP å®˜æ–¹æ–‡æ¡£](https://modelcontextprotocol.io/)
- [Zod éªŒè¯åº“æ–‡æ¡£](https://zod.dev/)
- [TypeScript è£…é¥°å™¨æ–‡æ¡£](https://www.typescriptlang.org/docs/handbook/decorators.html)
- [GitHub ä»“åº“](https://github.com/shenjingnan/bestmcp)

<Callout type="warning" emoji="âš ï¸">
  **æ³¨æ„**ï¼šBestMCP éœ€è¦ Node.js 18+ å’Œ TypeScript 4.8+ ç¯å¢ƒã€‚ç¡®ä¿ä½ çš„å¼€å‘ç¯å¢ƒæ»¡è¶³è¦æ±‚ã€‚
</Callout>
